## 免安装可执行版使用说明（Windows）

本说明指导你在未安装 Python/依赖的电脑上运行“UI 图片分割并生成 HTML”的可执行程序。

### 一、准备文件
- 可执行程序目录：`dist/ui_inference_dist/`（构建完成后得到）
- 放置模型权重（可选但强烈建议）：在任意位置均可，假设为 `model\sfnet_res101_ui_latest.pth`
- 输入图片：例如 `testimage\test1.png`

目录示例：
```
your-folder/
├─ ui_inference_dist/           # 打包输出的运行目录
├─ model/
│  └─ sfnet_res101_ui_latest.pth
└─ testimage/
   └─ test1.png
```

### 二、运行命令（PowerShell）

在 `ui_inference_dist` 目录内，执行（单行命令）：
```powershell
.\ui_inference.exe --image ..\testimage\test1.png --config .\configs\seg\sfnet_res101_ui.conf --checkpoint ..\model\sfnet_res101_ui_latest.pth --output .\output --gpu -1
```
说明：
- `--image`：输入图片路径
- `--config`：已随程序一同打包的配置，保持默认即可
- `--checkpoint`：你的模型权重路径（如无权重也可运行，但仅作流程演示，结果随机）
- `--output`：输出目录（自动创建）
- `--gpu -1`：仅用 CPU 运行，免显卡/驱动

### 三、输出结果
运行完成后，查看输出目录：
- `prediction_mask.png`：分割掩码可视化
- `output.html`：生成的 HTML 页面（以输入图片为背景，覆盖组件定位）

### 四、常见问题
- “程序无法启动，因为计算机中丢失…DLL”：请将整个 `ui_inference_dist` 目录拷贝到目标机同一位置运行；不要只拷贝 exe。
- “未找到权重，效果异常”：请提供你训练得到的 `*.pth` 权重文件并通过 `--checkpoint` 指定。
- “路径包含中文/空格”：使用引号包裹路径，例如 `--image "C:\含空格\图片.png"`。

### 五、离线运行
可执行程序不需要联网，无需额外安装包；确保输入图像与（可选的）权重路径可访问即可。

### 六、更新与维护
- 如果你更换了类别/网络结构，请同步更新配置文件并重新打包。
- 若需重新打包，参考项目根目录下 `scripts/build_exe.ps1`（或 `scripts/build_exe_clean.ps1`）。


